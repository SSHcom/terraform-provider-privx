---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "privx_workflow Resource - terraform-provider-privx"
subcategory: ""
description: |-
  Workflow resource
---

# privx_workflow (Resource)

Workflow resource

## Example Usage

```terraform
resource "privx_workflow" "qrt-test" {
  name        = "qrt-test1"
  grant_types = ["PERMANENT"]
  target_roles = [
    {
      "id" : "920bb54e-dec9-575a-7309-86d12737d016",
      "name" : "qtr-test"
    }
  ]
  requester_roles = [ // Optional
    {
      "id" : "e2dcbeb4-6b07-50ad-788a-5af830da74ca",
      "name" : "Linux-admin"
    },
    {
      "id" : data.privx_role.privx-admin.id,
      "name" : data.privx_role.privx-admin.name
    }
  ]
  action = "GRANT"
  steps = [
    {
      "name" : "First Approval",
      "match" : "ANY",
      "approvers" : [
        {
          "role" : {
            "id" : data.privx_role.privx-admin.id,
            "name" : data.privx_role.privx-admin.name
          }
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action` (String) Does the workflow GRANT or REMOVE the user from the role. Workflow engine needs to check that the requested action matches allowed actions defined in the template.
- `grant_types` (List of String) List of role granting types. Is the role granted permanently, or is the grant time restricted, or a floating window.
- `name` (String) Name of the workflow
- `steps` (Attributes Set) List of workflow steps (see [below for nested schema](#nestedatt--steps))
- `target_roles` (Attributes Set) List of target roles for the workflow (see [below for nested schema](#nestedatt--target_roles))

### Optional

- `can_bypass_revoke_workflow` (Boolean) A flag used to determine if approvers can bypass the revoke workflow to revoke a role.
- `comment` (String) Optional human readable description
- `max_active_requests` (Number) Maximum number of concurrent open requests a user can have per target role.
- `max_floating_duration` (Number) Time in hours how long the grant should not exceed after initial connection.
- `max_time_restricted_duration` (Number) Maximum time in days where duration between start-date and end-date of role request must not exceeded this duration.
- `requester_roles` (Attributes Set) List of requester roles for the workflow (see [below for nested schema](#nestedatt--requester_roles))
- `requires_justification` (Boolean) A flag used to determine if requesters can bypass the justification on role requests.

### Read-Only

- `id` (String) Workflow ID

<a id="nestedatt--steps"></a>
### Nested Schema for `steps`

Required:

- `approvers` (Attributes Set) List of approvers for the step (see [below for nested schema](#nestedatt--steps--approvers))
- `match` (String) Match condition for the step (e.g., ANY, ALL)
- `name` (String) Name of the step

<a id="nestedatt--steps--approvers"></a>
### Nested Schema for `steps.approvers`

Required:

- `role` (Attributes) Role assigned to the approver (see [below for nested schema](#nestedatt--steps--approvers--role))

<a id="nestedatt--steps--approvers--role"></a>
### Nested Schema for `steps.approvers.role`

Required:

- `id` (String) Unique identifier of the role

Optional:

- `name` (String) Name of the role




<a id="nestedatt--target_roles"></a>
### Nested Schema for `target_roles`

Required:

- `id` (String) Unique identifier of the role

Optional:

- `name` (String) Name of the role


<a id="nestedatt--requester_roles"></a>
### Nested Schema for `requester_roles`

Required:

- `id` (String) Unique identifier of the role

Optional:

- `name` (String) Name of the role
