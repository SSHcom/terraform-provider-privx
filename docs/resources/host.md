---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "privx_host Resource - terraform-provider-privx"
subcategory: ""
description: |-
  Host resource for PrivX
---

# privx_host (Resource)

Host resource for PrivX

## Example Usage

```terraform
terraform {
  required_providers {
    privx = {
      source = "hashicorp/privx"
    }
  }
}

provider "privx" {}

variable "host_address" {
  type    = string
  default = "10.0.0.10"
}

variable "initial_passphrase" {
  type      = string
  sensitive = true
}

data "privx_script_template" "st" {
  name = "Linux per account command template"
}

data "privx_password_policy" "pp" {
  name = "PrivX default password policy"
}

data "privx_access_group" "ag" {
  name = "Default"
}

resource "privx_host" "test" {
  common_name     = "tf-acc-host-rotation"
  addresses       = [var.host_address]
  access_group_id = data.privx_access_group.ag.id

  external_id = "tf-ext-demo"
  comment     = "created by terraform"

  services = [{
    service                   = "SSH"
    address                   = var.host_address
    port                      = 22
    use_for_password_rotation = true
  }]

  password_rotation_enabled = true

  password_rotation = {
    access_group_id                = data.privx_access_group.ag.id
    use_main_account               = true
    operating_system               = "LINUX"
    protocol                       = "SSH"
    certificate_validation_options = "DISABLED"
    password_policy_id             = data.privx_password_policy.pp.id
    script_template_id             = data.privx_script_template.st.id
  }

  principals = [{
    principal                 = "tf-acc-rotate"
    rotate                    = true
    use_for_password_rotation = true
    use_user_account          = false
    passphrase                = var.initial_passphrase
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `access_group_id` (String) Access Group ID for the host
- `addresses` (List of String) List of host addresses
- `common_name` (String) Host common name

### Optional

- `audit_enabled` (Boolean) Whether audit is enabled for the host
- `cloud_provider` (String) Cloud provider for the host
- `cloud_provider_region` (String) Cloud provider region for the host
- `comment` (String) Comment for the host
- `contact_address` (String) Contact address for the host
- `deployable` (Boolean) Whether the host is deployable
- `disabled` (String) Whether the host is disabled
- `distinguished_name` (String) Distinguished name for the host
- `external_id` (String) External ID for the host
- `host_classification` (String) Host classification
- `host_type` (String) Host type
- `instance_id` (String) Instance ID for the host
- `organization` (String) Organization for the host
- `organizational_unit` (String) Organizational unit for the host
- `password_rotation` (Attributes) Password rotation configuration (see [below for nested schema](#nestedatt--password_rotation))
- `password_rotation_enabled` (Boolean)
- `principals` (Attributes List) List of principals for the host (see [below for nested schema](#nestedatt--principals))
- `services` (Attributes List) List of services for the host (see [below for nested schema](#nestedatt--services))
- `session_recording_options` (Attributes) Session recording options (see [below for nested schema](#nestedatt--session_recording_options))
- `source_id` (String) Source ID for the host
- `ssh_host_public_keys` (Attributes List) List of SSH host public keys (see [below for nested schema](#nestedatt--ssh_host_public_keys))
- `tags` (List of String) List of tags for the host (order may change due to API sorting)
- `toch` (Boolean) TOCH setting
- `tofu` (Boolean) TOFU (Trust On First Use) setting
- `user_message` (String) User message for the host
- `zone` (String) Zone for the host

### Read-Only

- `created` (String) Creation timestamp
- `id` (String) Host ID
- `stand_alone_host` (Boolean) Whether this is a standalone host (not managed by a discovery source).
- `updated` (String) Last update timestamp
- `updated_by` (String) ID of user who last updated the host

<a id="nestedatt--password_rotation"></a>
### Nested Schema for `password_rotation`

Optional:

- `access_group_id` (String)
- `certificate_validation_options` (String)
- `operating_system` (String)
- `password_policy_id` (String)
- `protocol` (String)
- `script_template_id` (String)
- `use_main_account` (Boolean)
- `winrm_address` (String)
- `winrm_host_certificate_trust_anchors` (String)
- `winrm_port` (Number)


<a id="nestedatt--principals"></a>
### Nested Schema for `principals`

Required:

- `principal` (String) Principal name

Optional:

- `applications` (List of String) List of applications for the principal
- `command_restrictions` (Attributes) Command restrictions for the principal (see [below for nested schema](#nestedatt--principals--command_restrictions))
- `passphrase` (String, Sensitive) Principal passphrase (write-only, API returns masked value)
- `roles` (Attributes List) List of roles for the principal (see [below for nested schema](#nestedatt--principals--roles))
- `rotate` (Boolean) Whether to rotate the principal
- `service_options` (Attributes) Service options for the principal (see [below for nested schema](#nestedatt--principals--service_options))
- `source` (String) Principal source
- `use_for_password_rotation` (Boolean) Use this principal for password rotation
- `use_user_account` (Boolean) Use user account
- `username_attribute` (String) Username attribute

<a id="nestedatt--principals--command_restrictions"></a>
### Nested Schema for `principals.command_restrictions`

Optional:

- `allow_no_match` (Boolean) Allow commands that don't match any whitelist
- `audit_match` (Boolean) Audit commands that match whitelists
- `audit_no_match` (Boolean) Audit commands that don't match whitelists
- `banner` (String) Banner message to display
- `default_whitelist` (Attributes) Default whitelist (see [below for nested schema](#nestedatt--principals--command_restrictions--default_whitelist))
- `enabled` (Boolean) Enable command restrictions
- `rshell_variant` (String) Shell variant (e.g., bash, sh)
- `whitelists` (Attributes List) List of whitelists with roles (see [below for nested schema](#nestedatt--principals--command_restrictions--whitelists))

<a id="nestedatt--principals--command_restrictions--default_whitelist"></a>
### Nested Schema for `principals.command_restrictions.default_whitelist`

Optional:

- `id` (String) Whitelist ID
- `name` (String) Whitelist name


<a id="nestedatt--principals--command_restrictions--whitelists"></a>
### Nested Schema for `principals.command_restrictions.whitelists`

Required:

- `whitelist` (Attributes) Whitelist reference (see [below for nested schema](#nestedatt--principals--command_restrictions--whitelists--whitelist))

Optional:

- `roles` (Attributes List) Roles for this whitelist (see [below for nested schema](#nestedatt--principals--command_restrictions--whitelists--roles))

<a id="nestedatt--principals--command_restrictions--whitelists--whitelist"></a>
### Nested Schema for `principals.command_restrictions.whitelists.whitelist`

Optional:

- `id` (String) Whitelist ID
- `name` (String) Whitelist name


<a id="nestedatt--principals--command_restrictions--whitelists--roles"></a>
### Nested Schema for `principals.command_restrictions.whitelists.roles`

Required:

- `id` (String) Role ID

Optional:

- `name` (String) Role name




<a id="nestedatt--principals--roles"></a>
### Nested Schema for `principals.roles`

Required:

- `id` (String) Role ID

Optional:

- `name` (String) Role name


<a id="nestedatt--principals--service_options"></a>
### Nested Schema for `principals.service_options`

Optional:

- `db` (Attributes) Database service options (see [below for nested schema](#nestedatt--principals--service_options--db))
- `rdp` (Attributes) RDP service options (see [below for nested schema](#nestedatt--principals--service_options--rdp))
- `ssh` (Attributes) SSH service options (see [below for nested schema](#nestedatt--principals--service_options--ssh))
- `vnc` (Attributes) VNC service options (see [below for nested schema](#nestedatt--principals--service_options--vnc))
- `web` (Attributes) Web service options (see [below for nested schema](#nestedatt--principals--service_options--web))

<a id="nestedatt--principals--service_options--db"></a>
### Nested Schema for `principals.service_options.db`

Optional:

- `max_bytes_download` (Number) Maximum bytes for download
- `max_bytes_upload` (Number) Maximum bytes for upload


<a id="nestedatt--principals--service_options--rdp"></a>
### Nested Schema for `principals.service_options.rdp`

Optional:

- `audio` (Boolean) Allow audio
- `clipboard` (Boolean) Allow clipboard
- `file_transfer` (Boolean) Allow file transfer


<a id="nestedatt--principals--service_options--ssh"></a>
### Nested Schema for `principals.service_options.ssh`

Optional:

- `exec` (Boolean) Allow exec commands
- `file_transfer` (Boolean) Allow file transfer
- `other` (Boolean) Allow other SSH features
- `shell` (Boolean) Allow shell access
- `tunnels` (Boolean) Allow tunnels
- `x11` (Boolean) Allow X11 forwarding


<a id="nestedatt--principals--service_options--vnc"></a>
### Nested Schema for `principals.service_options.vnc`

Optional:

- `clipboard` (Boolean) Allow clipboard
- `file_transfer` (Boolean) Allow file transfer


<a id="nestedatt--principals--service_options--web"></a>
### Nested Schema for `principals.service_options.web`

Optional:

- `audio` (Boolean) Allow audio
- `clipboard` (Boolean) Allow clipboard
- `file_transfer` (Boolean) Allow file transfer




<a id="nestedatt--services"></a>
### Nested Schema for `services`

Required:

- `service` (String) Service type (e.g., SSH, RDP, HTTP)

Optional:

- `address` (String) Service address
- `port` (Number) Service port
- `source` (String) Service source
- `ssh_tunnel_port` (Number) SSH tunnel port
- `use_for_password_rotation` (Boolean) Use this service for password rotation
- `use_plaintext_vnc` (Boolean) Use plaintext VNC


<a id="nestedatt--session_recording_options"></a>
### Nested Schema for `session_recording_options`

Optional:

- `disable_clipboard_recording` (Boolean) Disable clipboard recording
- `disable_file_transfer_recording` (Boolean) Disable file transfer recording


<a id="nestedatt--ssh_host_public_keys"></a>
### Nested Schema for `ssh_host_public_keys`

Required:

- `key` (String) SSH public key

Optional:

- `fingerprint` (String) SSH key fingerprint
